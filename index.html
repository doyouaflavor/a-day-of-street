<!doctype html>
<html ng-app="game">
  <head>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.3/angular-sanitize.js"></script>
    <script src="js/data.js"></script>
    <script src="js/person.js"></script>
    <script src="js/sceneAction.js"></script>
    <script src="js/controller.js"></script>
    <link rel="stylesheet" href="css/game.css">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=0">
  </head>
  <body ng-controller="MainCtrl as scene">
  <div class="header">
      <span class="header-item header-logo">人生百味</span>
      <span class="header-item header-team">製作團隊</span>
  </div>
  
    <div class="scene street" ng-style='scene.streetStyle()'>
        <div class="street-info"> 時間：<span>{{scene.currentTime}}</span>  分數：<span>{{scene.total_score}}</span>  單價：<span>{{scene.deal_score}}</span></div>
        <div class="street-stage">
            <div class="street-background">
                <img src=""/>
            </div>
            <div class="street-master" ng-click="scene.doClickMaster()" ng-style="scene.masterStyle()">
                <img src="img/street-role-{{scene.role}}.png"/>
            </div>
            <div class="street-customers">
                <div class="person" ng-class="person.name" ng-repeat="person in scene.street_people" ng-style="person.style()">
                    <img class="person-saw person-token" ng-if="person.state=='saw'" src="img/person-normalsaw.png"/>
                    <img class="person-redeye person-token" ng-if="person.state=='redeye'" src="img/person-redeye.png"/>
                    <img class="person-body" src="img/person.png"/>
                    <div ng-if="scene.debug">
                    {{person.action}}
                    {{person.state}}
                    </div>
                </div>
            </div>    
        </div>
    </div>  
  
  
  <div class="scene game-start" ng-if="scene.state=='ready'">
      <h1>街頭創業家的一天</h1>
      <p>十字路旁單薄的叫賣身影，你是否已習以為常？<br/>
不知經過幾個年頭，這樣的身影撐起一個家庭，或至少希望獨立賺取應得溫飽。<br/>
 其中人生百萬種滋味和心路故事，每天只是路過是無法了解的。<br/>
 透過角色扮演的遊戲，希望帶著大家一起走入街頭創業家的日常，了解街頭販售的生活，打破隔閡點亮街頭。</p>
 <div class="rule-info">
     <h2>規則說明：</h2>
     <ul style="text-aligh: left;">
         <li><img src="img/person-normalsaw.png"/><div>當路人頭上出現「看見」的圖案，點擊街賣者表示叫賣，這時路人會走過來購物</div></li>
         <li><img src="img/person-redeye.png"/><div>頭上出現「眼紅」表示有競爭者覬覦你，這時不能叫賣，否則「眼紅」人會報警，所有客人會走掉</div></li>
         <li>遊戲過程中會定期出現選項，這些選項會造成各種影響，請妥善選擇</li>
     </ul>
 </div>
 <form ng-submit="scene.doClickStart()" >
     <input type="text" placeholder="你的大名" name="" id="" ng-model="scene.name">
     <input type="submit" id="submit" value="登記創業" />
     </form>
  </div>
  
  <!--選項-->
  <div class="scene question"  ng-if="scene.state=='question'">
    <div class="question-set">
        <div class="question-content">
         {{ scene.question.name}}. {{ scene.question.description }}
         </div>
         <div class="triangle"></div>
         <div class="options" ng-style="optionsStyle">
             <div class="option" ng-repeat="option in scene.question.options">
                <a href="javascript:void(0);" ng-click="scene.doClickSelectioins(option)">
                   <div class="option-img">
                       <img src="{{option.img}}" class="img-sm"/>
                       <img src="{{option.rwd_img}}" class="img-lg"></img>
                   </div>
                    <div class="option-text">{{option.name}}.{{option.value}}</div>
                </a>
             </div>
        </div>
    </div>
  </div>
  

  <!--選擇選項後出現的說明-->
  <div class="scene answer-information"  ng-if="scene.state=='answer-information'">
    <!--要改classname-->
    <div class="answer-set">
       <div class="answer-info">
           <div class="answer-info-header">
               <div class="answer-score">
                   <span class="answer-select">
                       {{scene.last_selected_option.value}}
                   </span>
               </div>
               <div class="answer-selection">
                   <span class="answer-point">
                      {{scene.last_selected_option.effectInfo}}
                   </span>
               </div>
           </div>
           <div class="answer-info-content" ng-style="scene.answerInfoContentStyle()">
              <div class="answer-info-img">
               <img src="{{scene.last_selected_option.img}}" />
               </div>
               <div class="option-text">{{scene.last_selected_option.name}}.{{scene.last_selected_option.value}}</div>
           </div>
       </div>
        <div class="answer-content" >
        <p ng-bind-html="scene.question.information"></p>
         </div>
         
         <div class="next">
                <a class="next" href="javascript:void(0);" ng-click="scene.doClickNext()">
                  NEXT
                </a>
                </div>
             </div>
        </div>
        

     

    <!--結局-->
    <div class="scene final" ng-if="scene.state=='ending'">
        <h2>結果頁</h2>
        <div>分數：{{scene.total_score}}</div>
        <div ng-repeat="select in scene.selected">
             <div class="select-question">{{select.questionInfo}}</div>
             <div class="select-answer">
                  <span class="select-index">{{select.option.name}}</span>
                  <span class="select-value">{{select.option.value}}</span>
    <!--              <span class="select-am">{{select.option.addormulti}}</span>-->
    <!--              <span class="select-score">{{select.option.score}}</span>-->
                 <span class="select-effectInfo">{{select.option.effectInfo}}</span>
             </div>
<!--
              <div class="information" ng-bind-html="select.information">
              </div>
-->
        </div>
    </div>
  
<div class="scene final" ng-if="scene.debug">
   <div class="score">State = {{scene.state}}</div>
    <div class="score">積分 = {{scene.total_score}}</div>
    <div class="score">單次分數 = {{scene.deal_score}}</div>
    <div class="street-info"> 時間：<span>{{scene.currentTime}}</span></div>
<!--    <div class="sate">selected：{{scene.selected}}</div>-->
<!--    {{scene}}-->
</div>
     
  
  
  </body>
</html>